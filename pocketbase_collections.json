[
  {
    "id": "app_users",
    "name": "app_users",
    "type": "auth",
    "system": false,
    "schema": [
      { "name": "sex", "type": "text" },
      { "name": "level", "type": "number", "options": { "min": 0, "max": null, "noDecimal": true } },
      { "name": "xp", "type": "number", "options": { "min": 0, "max": null, "noDecimal": true } },
      { "name": "needs", "type": "json" },
      { "name": "bio", "type": "text" },
      { "name": "location", "type": "text" },
      { "name": "join_date", "type": "date" },
      { "name": "is_ghost", "type": "bool" },
      { "name": "match_info", "type": "json" },
      { "name": "profile_color", "type": "text" },
      { "name": "subscription_tier", "type": "text" },
      { "name": "parents", "type": "json" },
      { "name": "children", "type": "json" },
      { "name": "pending_received_relationship_requests", "type": "json" },
      { "name": "privacy_settings", "type": "json" },
      { "name": "security_settings", "type": "json" },
      { "name": "chat_settings", "type": "json" },
      { "name": "mailbox_settings", "type": "json" },
      { "name": "pinned_friends", "type": "json" },
      { "name": "unlocked_achievement_ids", "type": "json" },
      { "name": "placed_furniture", "type": "json" },
      { "name": "daily_reward_state", "type": "json" },
      { "name": "settings", "type": "json" },
      { "name": "coins", "type": "number", "options": { "min": 0, "max": null, "noDecimal": true } },
      { "name": "gems", "type": "number", "options": { "min": 0, "max": null, "noDecimal": true } },
      { "name": "volts", "type": "number", "options": { "min": 0, "max": null, "noDecimal": true } },
      { "name": "equipped_items", "type": "json" },
      { "name": "last_login", "type": "date" },
      { "name": "last_work_timestamp", "type": "number" },
      { "name": "last_ip", "type": "text" },
      { "name": "last_location", "type": "text" },
      { "name": "last_latitude", "type": "number" },
      { "name": "last_longitude", "type": "number" },
      { "name": "online", "type": "bool" },
      { "name": "last_seen", "type": "date" },
      { "name": "mac_address", "type": "text" },
      { "name": "device_info", "type": "json" },
      { "name": "birth_date", "type": "date" },
      { "name": "parent_email", "type": "email" },
      { "name": "friends", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": null, "maxSelect": null, "displayFields": [] } },
      { "name": "inventory", "type": "relation", "options": { "collectionId": "shop_items", "cascadeDelete": false, "minSelect": null, "maxSelect": null, "displayFields": [] } },
      { "name": "furniture", "type": "relation", "options": { "collectionId": "furniture_items", "cascadeDelete": false, "minSelect": null, "maxSelect": null, "displayFields": [] } },
      { "name": "blocked_users", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": null, "maxSelect": null, "displayFields": [] } }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != ''",
    "viewRule": "@request.auth.id != ''",
    "createRule": "",
    "updateRule": "id = @request.auth.id",
    "deleteRule": null,
    "options": {
      "allowEmailAuth": true,
      "allowOAuth2Auth": true,
      "allowUsernameAuth": true,
      "exceptEmailDomains": null,
      "manageRule": null,
      "minPasswordLength": 8,
      "onlyEmailDomains": null,
      "onlyVerified": false,
      "requireEmail": false
    }
  },
  {
    "id": "shop_items",
    "name": "shop_items",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "name", "type": "text" },
      { "name": "category", "type": "text" },
      { "name": "subcategory", "type": "text" },
      { "name": "price_coins", "type": "number" },
      { "name": "price_gems", "type": "number" },
      { "name": "image_url", "type": "url" },
      { "name": "keywords", "type": "json" },
      { "name": "asset_url", "type": "url" }
    ],
    "indexes": [],
    "listRule": "",
    "viewRule": "",
    "createRule": null,
    "updateRule": null,
    "deleteRule": null
  },
  {
    "id": "furniture_items",
    "name": "furniture_items",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "name", "type": "text" },
      { "name": "category", "type": "text" },
      { "name": "subcategory", "type": "text" },
      { "name": "price_coins", "type": "number" },
      { "name": "price_gems", "type": "number" },
      { "name": "images", "type": "json" },
      { "name": "keywords", "type": "json" },
      { "name": "width", "type": "number" },
      { "name": "height", "type": "number" },
      { "name": "collider", "type": "json" }
    ],
    "indexes": [],
    "listRule": "",
    "viewRule": "",
    "createRule": null,
    "updateRule": null,
    "deleteRule": null
  },
  {
    "id": "direct_messages",
    "name": "direct_messages",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "sender", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "receiver", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "text", "type": "text" },
      { "name": "attachments", "type": "json" },
      { "name": "reactions", "type": "json" },
      { "name": "reply_to", "type": "text" },
      { "name": "is_read", "type": "bool" },
      { "name": "is_edited", "type": "bool" },
      { "name": "is_deleted", "type": "bool" }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != '' && (sender.id = @request.auth.id || receiver.id = @request.auth.id)",
    "viewRule": "@request.auth.id != '' && (sender.id = @request.auth.id || receiver.id = @request.auth.id)",
    "createRule": "@request.auth.id != '' && sender.id = @request.auth.id",
    "updateRule": "@request.auth.id != '' && sender.id = @request.auth.id",
    "deleteRule": null
  },
  {
    "id": "notifications",
    "name": "notifications",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "receiver", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "sender", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": null, "maxSelect": 1, "displayFields": [] } },
      { "name": "type", "type": "text" },
      { "name": "subject", "type": "text" },
      { "name": "content", "type": "text" },
      { "name": "is_read", "type": "bool" }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != '' && receiver.id = @request.auth.id",
    "viewRule": "@request.auth.id != '' && receiver.id = @request.auth.id",
    "createRule": null,
    "updateRule": "@request.auth.id != '' && receiver.id = @request.auth.id",
    "deleteRule": "@request.auth.id != '' && receiver.id = @request.auth.id"
  },
  {
    "id": "reports",
    "name": "reports",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "reporter", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "reported_user", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "type", "type": "text" },
      { "name": "status", "type": "select", "options": { "maxSelect": 1, "values": ["Pending", "Reviewed", "Resolved"] } },
      { "name": "is_severe", "type": "bool" },
      { "name": "reported_content", "type": "text" },
      { "name": "reporter_comments", "type": "text" },
      { "name": "context", "type": "json" }
    ],
    "indexes": [],
    "listRule": null,
    "viewRule": null,
    "createRule": "@request.auth.id != '' && reporter.id = @request.auth.id",
    "updateRule": null,
    "deleteRule": null
  },
  {
    "id": "support_tickets",
    "name": "support_tickets",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "user", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "subject", "type": "text" },
      { "name": "status", "type": "select", "options": { "maxSelect": 1, "values": ["Open", "In Progress", "Closed"] } }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != '' && user.id = @request.auth.id",
    "viewRule": "@request.auth.id != '' && user.id = @request.auth.id",
    "createRule": "@request.auth.id != '' && user.id = @request.auth.id",
    "updateRule": null,
    "deleteRule": null
  },
  {
    "id": "support_ticket_messages",
    "name": "support_ticket_messages",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "ticket", "type": "relation", "options": { "collectionId": "support_tickets", "cascadeDelete": true, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "sender", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "message", "type": "text" }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != '' && ticket.user.id = @request.auth.id",
    "viewRule": "@request.auth.id != '' && ticket.user.id = @request.auth.id",
    "createRule": "@request.auth.id != '' && sender.id = @request.auth.id && ticket.user.id = @request.auth.id",
    "updateRule": null,
    "deleteRule": null
  },
  {
    "id": "currency_packs",
    "name": "currency_packs",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "type", "type": "text" },
      { "name": "name", "type": "text" },
      { "name": "amount", "type": "number" },
      { "name": "bonus", "type": "number" },
      { "name": "price", "type": "number" },
      { "name": "icon", "type": "text" },
      { "name": "tag", "type": "text" }
    ],
    "indexes": [],
    "listRule": "",
    "viewRule": "",
    "createRule": null,
    "updateRule": null,
    "deleteRule": null
  },
  {
    "id": "punishments",
    "name": "punishments",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "user", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "moderator", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "sanction_type", "type": "text" },
      { "name": "reason_key", "type": "text" },
      { "name": "duration_ms", "type": "number" },
      { "name": "expires_at", "type": "date" }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != '' && user.id = @request.auth.id",
    "viewRule": "@request.auth.id != '' && user.id = @request.auth.id",
    "createRule": null,
    "updateRule": null,
    "deleteRule": null
  },
  {
    "id": "profile_comments",
    "name": "profile_comments",
    "type": "base",
    "system": false,
    "schema": [
      { "name": "profile_owner", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "author", "type": "relation", "options": { "collectionId": "app_users", "cascadeDelete": false, "minSelect": 1, "maxSelect": 1, "displayFields": [] } },
      { "name": "text", "type": "text" }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != ''",
    "viewRule": "@request.auth.id != ''",
    "createRule": "@request.auth.id != '' && author.id = @request.auth.id",
    "updateRule": "@request.auth.id != '' && author.id = @request.auth.id",
    "deleteRule": "@request.auth.id != '' && (author.id = @request.auth.id || profile_owner.id = @request.auth.id)"
  }
]